# Environment Variables for Scry
# Copy this file to .env.local and fill in your actual values
# Never commit real API keys or secrets to the repository!

# ==============================================================================
# CRITICAL: Vercel vs Convex Environment Variables
# ==============================================================================
# Vercel and Convex maintain SEPARATE environment variable systems!
# Variables must be set in BOTH places where indicated below.
#
# Local Development:
#   - This .env.local file is used by BOTH Next.js AND Convex (via npx convex dev)
#
# Production:
#   - Vercel variables: Set via `vercel env add` or Vercel dashboard
#   - Convex variables: Set via `npx convex env set --prod` or Convex dashboard
#
# See CLAUDE.md for detailed setup instructions.
# ==============================================================================

# ------------------------------------------------------------------------------
# FRONTEND VARIABLES (Vercel only in production)
# ------------------------------------------------------------------------------

# Sentry Observability (frontend + backend)
# Get DSN and project info from https://sentry.io
# Where to set: Vercel (production), .env.local (dev), Convex (if backend tracing)
NEXT_PUBLIC_SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0
SENTRY_DSN=https://exampleServerKey@o0.ingest.sentry.io/0
SENTRY_AUTH_TOKEN=your-sentry-auth-token
SENTRY_ORG=your-sentry-org
SENTRY_PROJECT=your-sentry-project
# Optional overrides for sampling (default traces=0.1, replays on error only)
# SENTRY_TRACES_SAMPLE_RATE=0.1
# SENTRY_REPLAYS_SESSION_SAMPLE_RATE=0
# SENTRY_REPLAYS_ON_ERROR_SAMPLE_RATE=1

# Convex Backend URL
# Dev: https://amicable-lobster-935.convex.cloud
# Prod: https://uncommon-axolotl-639.convex.cloud
# Where to set: Vercel (production), .env.local (dev)
NEXT_PUBLIC_CONVEX_URL=https://your-convex-instance.convex.cloud

# Clerk Authentication (frontend)
# Get from: https://dashboard.clerk.com
# Where to set: Vercel (production), .env.local (dev)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...
CLERK_WEBHOOK_SECRET=whsec_...

# Convex Deploy Key (for Vercel build process)
# Get from: https://dashboard.convex.dev → Settings → Deploy Keys
# Where to set: Vercel (production only)
# CONVEX_DEPLOY_KEY=prod:uncommon-axolotl-639|...

# ------------------------------------------------------------------------------
# BACKEND VARIABLES (Convex only in production)
# ------------------------------------------------------------------------------

# --------------
# AI PROVIDER CONFIGURATION
# --------------

# AI Provider Selection (openai or google)
# Default: openai (GPT-5 mini with reasoning for superior question quality)
# Where to set: Convex (production), .env.local (dev)
# Used by: convex/aiGeneration.ts, convex/lab.ts
AI_PROVIDER=openai
AI_MODEL=gpt-5-mini
AI_REASONING_EFFORT=high

# OpenAI API key for GPT-5 question generation
# Get from: https://platform.openai.com/api-keys
# Where to set: Convex (production), .env.local (dev), Vercel (for Convex deployment)
# Used by: convex/aiGeneration.ts, convex/lab.ts
OPENAI_API_KEY=sk-proj-...

# Google AI API key (legacy, kept for rollback capability)
# Get from: https://makersuite.google.com/app/apikey
# Where to set: Convex (production), .env.local (dev)
# Used by: convex/aiGeneration.ts, convex/embeddings.ts
GOOGLE_AI_API_KEY=AIzaSy...

# Application URL for redirects and links
# Where to set: Convex (production), .env.local (dev)
NEXT_PUBLIC_APP_URL=https://www.scry.study

# ------------------------------------------------------------------------------
# OPTIONAL / ADMIN
# ------------------------------------------------------------------------------

# Admin emails for running migrations (comma-separated)
# Example: ADMIN_EMAILS=admin@example.com,ops@example.com
# Where to set: Convex (production), .env.local (dev)
ADMIN_EMAILS=your-admin-email@example.com
